# راهنمای ساده Deploy (گام به گام)

## 🎯 هدف: گرفتن یک URL برای استفاده در config.js

---

## مرحله 1: باز کردن Apps Script

```
Google Sheet → Extensions → Apps Script
```

---

## مرحله 2: کپی کردن کد

1. کد `apps-script.js` را کپی کنید
2. در Apps Script Editor پیست کنید
3. 💾 Save کنید

---

## مرحله 3: Deploy

### گام 1: کلیک روی Deploy
```
Deploy → New deployment
```

### گام 2: انتخاب نوع
```
روی آیکون ⚙️ کلیک کنید → Web app را انتخاب کنید
```

### گام 3: پر کردن فرم

**📝 Description:**
```
Keyhan Financial API
```
(یا هر نامی که می‌خواهید - اختیاری)

---

**👤 Execute as:**
```
✅ "Me" را انتخاب کنید
```

**توضیح:**
- "Me" = با دسترسی‌های شما اجرا می‌شود
- گزینه دیگر = با دسترسی‌های کاربر دیگر (نیازی نیست)

---

**🔐 Who has access:**
```
برای شروع: ✅ "Anyone"
برای امنیت بیشتر: "Anyone with Google account"
```

**توضیح:**
- **"Anyone"** = هر کسی که URL را داشته باشد می‌تواند استفاده کند
  - ✅ برای تست و استفاده شخصی
  - ⚠️ امنیت کمتر (اما برای استفاده داخلی مشکلی ندارد)

- **"Anyone with Google account"** = فقط کسانی که با Google لاگین کرده‌اند
  - ✅ امنیت بیشتر
  - ✅ برای استفاده تیمی

- **"Only myself"** = فقط شما
  - ⚠️ از کامپیوتر دیگر کار نمی‌کند

**پیشنهاد:** برای شروع "Anyone" را انتخاب کنید

---

### گام 4: Deploy کردن

```
روی دکمه "Deploy" کلیک کنید
```

---

## مرحله 4: Authorization (اولین بار)

**⚠️ فقط اولین بار این مرحله را انجام می‌دهید**

### گام 1:
```
روی "Authorize access" کلیک کنید
```

### گام 2:
```
حساب Google خود را انتخاب کنید
```

### گام 3:
```
یک صفحه هشدار می‌بینید → روی "Advanced" کلیک کنید
```

### گام 4:
```
روی "Go to [نام پروژه] (unsafe)" کلیک کنید
```

**⚠️ نگران نباشید!** کلمه "unsafe" فقط یعنی Google این app را verify نکرده. برای استفاده شخصی کاملاً امن است.

### گام 5:
```
روی "Allow" کلیک کنید
```

---

## مرحله 5: کپی کردن URL

بعد از Deploy موفق:

1. یک URL می‌بینید که شبیه این است:
   ```
   https://script.google.com/macros/s/AKfycby.../exec
   ```

2. روی دکمه **Copy** کلیک کنید (یا دستی کپی کنید)

3. این URL را در فایل `config.js` قرار دهید:
   ```javascript
   const CONFIG = {
       WEB_APP_URL: 'URL_که_کپی_کردید'
   };
   ```

---

## ✅ تمام!

حالا می‌توانید از سیستم استفاده کنید.

---

## 🔄 اگر بعداً کد را تغییر دادید:

1. کد جدید را Save کنید
2. **Deploy** → **Manage deployments**
3. روی ✏️ (Edit) کلیک کنید
4. **New version** را انتخاب کنید
5. **Deploy** کنید
6. **⚠️ مهم:** URL تغییر نمی‌کند - همان URL قبلی کار می‌کند

---

## ❓ مشکلات رایج

### "Access denied"
→ "Who has access" را روی "Anyone" بگذارید

### "Script function not found"
→ بررسی کنید که کد را کامل کپی کرده‌اید

### URL کار نمی‌کند
→ مطمئن شوید که URL با `/exec` تمام می‌شود

---

## 📖 برای توضیحات بیشتر

فایل `DEPLOY_GUIDE.md` را ببینید که تمام جزئیات را توضیح می‌دهد.

