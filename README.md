# سیستم مدیریت مالی کیهان

یک سیستم ساده و کاربردی برای ثبت و مدیریت درآمدها و هزینه‌های فضای کار اشتراکی کیهان.

**✅ رابط کاربری فارسی و RTL**
**✅ ذخیره در Firebase Firestore یا localStorage**
**✅ گزارشات کامل با نمودارها**
**✅ خروجی Excel**

## ویژگی‌ها

- ✅ ثبت تراکنش‌های درآمد و هزینه
- ✅ دسته‌بندی کامل با زیردسته‌ها
- ✅ تقویم شمسی برای انتخاب تاریخ
- ✅ نمایش لیست تراکنش‌ها در جدول
- ✅ ویرایش و حذف تراکنش‌ها
- ✅ شماره تراکنش خودکار
- ✅ ثبت حسابداری
- ✅ گزارشات کامل با نمودارها
- ✅ ذخیره در Firebase یا localStorage
- ✅ خروجی Excel
- ✅ رابط کاربری زیبا و مدرن

## راه‌اندازی

### 1. کلون کردن پروژه

```bash
git clone https://github.com/YOUR_USERNAME/keyhan_financial.git
cd keyhan_financial
```

### 2. تنظیم Firebase (اختیاری)

اگر می‌خواهید از Firebase استفاده کنید:

1. فایل `firebase-config.example.js` را کپی کنید:
```bash
cp firebase-config.example.js firebase-config.js
```

2. اطلاعات Firebase خود را از [Firebase Console](https://console.firebase.google.com/) در فایل `firebase-config.js` قرار دهید.

3. Firestore را در Firebase Console فعال کنید.

4. Security Rules را تنظیم کنید (راهنمای کامل در `FIREBASE_SETUP.md`).

**نکته:** اگر Firebase را تنظیم نکنید، سیستم به صورت خودکار از localStorage استفاده می‌کند.

### 3. اجرای پروژه

#### روش 1: استفاده از Python (پیشنهادی)

```bash
python3 -m http.server 8000
```

سپس در مرورگر به آدرس `http://localhost:8000` بروید.

#### روش 2: استفاده از VS Code Live Server

1. VS Code را باز کنید
2. افزونه "Live Server" را نصب کنید
3. روی فایل `index.html` راست کلیک کنید
4. "Open with Live Server" را انتخاب کنید

#### روش 3: باز کردن مستقیم

می‌توانید فایل `index.html` را مستقیماً در مرورگر باز کنید.

## استفاده

### ثبت تراکنش جدید

1. روی دکمه "ثبت تراکنش جدید" کلیک کنید
2. فرم را پر کنید
3. "ثبت تراکنش" را بزنید

### ویرایش تراکنش

1. روی دکمه "ویرایش" در ردیف تراکنش کلیک کنید
2. تغییرات را اعمال کنید
3. "ثبت تراکنش" را بزنید

### حذف تراکنش

روی دکمه "حذف" در ردیف تراکنش کلیک کنید.

### گزارشات

1. روی دکمه "گزارشات" در منوی بالا کلیک کنید
2. می‌توانید "گزارش کلی" یا "بازه انتخابی" را انتخاب کنید
3. نمودارها و جداول خلاصه را مشاهده کنید

### خروجی Excel

روی دکمه "خروجی Excel" کلیک کنید تا تمام تراکنش‌ها را به صورت فایل Excel دانلود کنید.

## ساختار دسته‌بندی‌ها

### درآمد
- اتاق‌ها
  - میز اختصاصی
  - میز اشتراکی (ماهانه، هفتگی، روزانه)
- اتاق جلسات (رویداد، کلاس، رزرو)
- اینترنت
- سایر

### هزینه
- حقوق و دستمزد (پایه حقوق، اضافه کار)
- قبوض (آب، برق، اینترنت، اجاره)
- مصرفی‌ها (دستمال کاغذی، شوینده، چای و قند)
- اقساط و چک
- تعمیر و نگهداری
- سایر

## فایل‌های مهم

- `index.html` - صفحه اصلی
- `style.css` - استایل‌های CSS
- `app.js` - منطق اصلی برنامه
- `firebase-config.js` - تنظیمات Firebase (باید خودتان بسازید)
- `firebase-config.example.js` - نمونه فایل تنظیمات Firebase

## مستندات

- `FIREBASE_SETUP.md` - راهنمای کامل تنظیم Firebase
- `QUICK_SETUP.md` - راهنمای سریع راه‌اندازی
- `TROUBLESHOOTING.md` - عیب‌یابی مشکلات رایج

## نکات مهم

- ✅ داده‌ها در Firebase Firestore یا localStorage ذخیره می‌شوند
- ✅ اگر از localStorage استفاده می‌کنید و Cache مرورگر را پاک کنید، داده‌ها از بین می‌روند
- ✅ برای پشتیبان‌گیری، از دکمه "خروجی Excel" استفاده کنید
- ✅ فایل Excel شامل تمام تراکنش‌ها است

## تکنولوژی‌های استفاده شده

- HTML5
- CSS3
- JavaScript (Vanilla)
- Firebase Firestore
- Chart.js
- Persian Datepicker
- XLSX.js

## لایسنس

این پروژه برای استفاده داخلی فضای کار اشتراکی کیهان توسعه یافته است.
